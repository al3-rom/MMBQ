---
import HamburgerMenu from '../components/HamburgerMenu.vue';
import SelectLanguage from '../components/SelectLanguage.vue';

import es from '../locales/es.json';
import en from '../locales/en.json';

const path = Astro.url.pathname;
const lang = path.startsWith('/en') ? 'en' : 'es';
const t = lang === 'en' ? en : es;
---

<nav class="fixed w-full p-5 flex items-center justify-between bg-white dark:bg-gray-900 shadow-md z-50 transition-colors duration-300 animate-in fade-in slide-in-from-top">
  <a href={`/${lang}`} class="text-orange-600 dark:text-orange-400 font-bold text-3xl">MBBQ</a>
  
  <div class="block md:hidden">
    <HamburgerMenu client:load t={t} lang={lang} />
  </div>
  
  <ul class="hidden md:flex md:items-center gap-3 text-blue-800 dark:text-gray-100 font-medium my-2">
    <li><a href={`/${lang}`} class="hover:text-orange-600 dark:hover:text-orange-400">{t.nav.inicio}</a></li>
    <li><a href={`/${lang}/noticias`} class="hover:text-orange-600 dark:hover:text-orange-400">{t.nav.noticias}</a></li>
    <li><a href={`/${lang}/tarifas`} class="hover:text-orange-600 dark:hover:text-orange-400">{t.nav.tarifas}</a></li>
    <li><a href={`/${lang}/socios`} class="hover:text-orange-600 dark:hover:text-orange-400">{t.nav.socios}</a></li>
    <li><a href={`/${lang}/sobre-nosotros`} class="hover:text-orange-600 dark:hover:text-orange-400">{t.nav.sobreNosotros}</a></li>
    <li><a href={`/${lang}/politica-privacidad`} class="hover:text-orange-600 dark:hover:text-orange-400">{t.nav.privacidad}</a></li>
    <button
      id="toggle-theme"
      aria-label={lang === 'es' ? "Cambiar tema" : "Toggle theme"}
      class="ml-4 px-2 py-1 border rounded-full text-sm hover:bg-gray-100 dark:hover:bg-gray-800 transition"
    >
      ðŸŒ™
    </button>
    <SelectLanguage client:load lang={lang} label={t.nav.idioma} />
  </ul>
</nav>
